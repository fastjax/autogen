# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: Dnh0mzO5z2Mfs8kfTdkFyXhLCjXIpvDxY6ungNoA90x4Ego30fntWTz1FayyTCVGAOAwERX1ARE5MZa+m5sxekmn6XvxSnPCcFeSqwZiLGKHzlIfuzCXmLBfNuGI0zp+2dyxWCB0wagUOmj2QrLszfndzwQwcAU8c7u7pqIA3pXFAwe3dMSeeKMB+CWwakQyEbYStqlEA8RzlEnSLElwNPkXy00IPHqcPU2HeW6rDxfhOfWoaGN39zZfcUVn9XPr77OvFAtNQIwkCwSL5TjMqLXOHUVI/FpM8yW4NJmBgwMMeYWCvXlN++QRqYNsO7XXpIO0+8MAVd09tUvMbBB7UIS2Ow4wkYtGVgUfb9ITDAqjzXfDQLIhPqbtPBeT70CtFHloJ8Zkq9sYr0blqHz6yWrbLx3WJ2gepyB/b9M4OFUnShcJE6UAWOjePNlLOOWyItYAui1kKlBMjlq6dLNyT2pxVAFYZa66bY1eZihAcuCNHm5m5Fq75Mh9glmhgBHe1tnux0fow+gMYTogoTzDZ31FqWHJF9m6goJQ6cf/vF8urnLw6aPq3bsGAnu7+tQuakiewruWOQV5BbDF1Ylg7UxWZDn+enyieGZ9HjD7q9zh7wyDnt0lp1jKrvOSRDPqPLFvw6E2gmjkoUjlvlnDiDaqED/wlT3JBkPnUy1TjrI=
  - secure: Q9JQwbmaAvmvZu8XXjxWWtZiUVsYL+XPPhRJMLGRXAE9HdgyAcq2hkHi9QEbEFx+uqc5RwW3hS4hb5DfqtoSe1TuBe0TO8UCtsVcuH53TXznCo3CYMj8cwwxzP6N6MCikzDaGInsVPZuB9yt+cFYPFLsH+R+SlM7kPPQTTiuKQWpupisAx+UnvxV2VZRkGFSkVmZk4sezNkZZP/mkHckTMxGjEBomSkM9uF7W+6fSiqh2xz/g5SoUEXnNmb61YBlsEOHY1tjR1dApNDGIu2+xytBdo/rggC+AYebAzgYy06hxVw5014tNDgju7OKal5lO6smVPYmk5bfCvwk804TzvweK8FhmyB/dI3hcXBPp8vL0kqaRkTO/ImRiyydAzbCahDa3aFHi39gA0W4R9Y+fL6yKwPnxt00VFvhhYm9CP0UGCZGA4s+lXZibiiBw9doizM/hCqFUH/jrceAQifImA4ZP+FmawHvQoH0ycUa6cxZMoJv904h1PlaVzDdMphIl5q9tZEzSiBoXs9U45YOoldde/yw7lmO3J0esrwGu2vp+et4avMKQnmC0BnF2BbqZMZR0m++mMJMJHkT26WOiOQdTrKrn6hDeNTjrVFEkA53R89P8n3RnUKY0HIqfZzRYHbm8OnPTo92QvuJbM0AjmlhrUX2F0QpxNw0hD9g988=
  - secure: tihjLT1xRxk5IzW/iiBUmM//7/ddPx5mzo/JKJ7Lwh6KbLhTt5fpF2PLpeewzctpG4u9jrpNyL5EEauCESgJ/HJN9H0gA9WusQULDa4jHHIn/C+gA47VqzJA4VS4zLOZ3p2xAOAPHwI2xn830nN0BZVpGixcsNoTzol4So9HXGDJceIFxI5GiJa95+IUSEzYuCtxckr41k4PEu/DsDHphKJ5wMfs2CWJ4l1tO3u+vXsJn47rHu+xFbmMxKcJUvAqqieAH4YOtwnhFvbR2dUN6Ty8wJ3Xen0fbBmiBLJjcKmvtvlYHrQReSNjqBalxZ/xCnqXeKpgGJwk2p9tgFlWGxO8Kn5ZYVOcG28VPqTpslgX9zayjqokPteCV+7WFrEp9y2yxCsZtXjP/ZigWe5lQXMBPT/hYoYPXqoSY5FZ0GWLpwmBBhq8TXvwh4425R91iiuQvB91K8MfncVYcgApzrfjIx8fTffX1OJzKev9CPESPHccrHYvphKecGfkcBWnOWTx3PQdDXxG8g6sxF7s0MKZ/vQ1EYJBC9P/eF2EOzED/+RsE2zFMQFtzhH9lbuYYIuURwPaCef+UUZci5/z0LQIW8NDi7lYb+Ybi6KATAzmfWib80vUuxWv+oGP38Pt1DLUA1SFZ6Ri/fEVQdO2/uSdM/aEvbHi6PWaLc5+X1Y=
  - secure: rjnjdMkZSonvAgUVeDeeM96AHEa08A4PNFuUN9yktlo7kPo4vV7mdaCBSId31r1oJn+jcc2VQpOgWX846D2IHuVeQX3njh7gRkDPOQyrzuub7mch03fdY/7Usz8jYs9P4b5tcnucrM8px2DxrpRiOdmh3lTzFExKjmlgTLOEO2fGYRsb7cdkkO/rqGFSKq1DBo13sOjwygCvhhMl5f2dvcqjxgsLRzBYlYRme0X/8D0zrjJr2bOhxcnMykgXB6tkt/MhauVI3v8dV/V+CWLjtjAKBDlFirToOr45z6Jw7Bbt1H0mOQcGL6mg2zoY7sUx9dGCP4Xmx+1Dw8RknV3BLKBLdQKcUD5bEXS3cCo4Gj8rrBQ5CHecLxDqibWooP1yUJJAj2aHenbjWFnvQ1NZAlviux9m4iWm0pNh0JVR1S/2VU8tHsj8AzyIq5xw0Ejw5fQZVL10rWq5DWUoKMaY/O0aqmOsVElM+dTQREBKAL5hCSJV6qn+ZGFB2iRPAXj5pE1elaJtv9pWXargu/re19vlqIz3PAb8nH97j2P9ehvn2IDN1gBawqL+AyWXncJTa1R2NC2H6ElFvZLmrse2YFVjvIke699nZykOtE4OQ33zG6uyuQye2xbKeeD4QbjDZjNsbaIWBPBXvHKIF+YA+i3cJ64bmQ0cmju0/wW2P2E=
  - secure: V21HAkjVof6kR0bo32bcq+HjDomXmasscO+KT7O7mdCifDYzvet1fhQV0zVjW5zJ+zR4l0g00XO9LjHy2koknP8OKARc03n9DQJd05msUGjmBp1qZB8JyufTbFUcQR5MrsdZN2/MOqMlzl8MiRbxLoz5+aLU9EQYqaXSPGp5nNDmT52yvCck7IAzZ7InODZBeMvtOeVmeVmA41+ACFV3See27OWYCF3RxY4iMNrSA3mrmzkF8kjyUPyhER0QRgNX2LcjgV5nRga/AZmliz5LVJpmDyC3j7qDNsd9w/V3ItDhxu0uhqXpjDu5MRASEXMfeFp14jhvDhh6QLkaJrMQyeKA57GYHZp6F7i2aTGbg1HR5mebJU4pmQc3d7HyURiXjmw8EARwjweROj+2lz8c6gyoY38gb+6LnOdIAkphxPKpP5+4Pzt8LhF+0B66S/q107Lb9IuLs39YuNqzUwW3k/eAtBbBQzM9N0ar3qETdarMnTIcm06jtWI98Q3jb+fGqJP+AlmghWZdqnURGjB5aI2erERvhbEm2ayDikxfJFQnrmP6O+10yYqCoM8XgvXhkAr1iGBFAfHoH2huyhg/EnAhzD95hIpMadB6sQA1vgBj9uWEsr5XrB53OLqUjBF1OZu+GtDUR1Ys2CpdGGfA841gKusnO0ZzU1A/kGmwJMM=
  - secure: Y76QZlmJ/1f+JlqiuOc5cD5ltya6UF7RWzQKnLc6dnmhzv9iOeq5dYRbbpSxN2kkRIN2n6XqBxaIKmpQnTlt39JXnlaOxWVnQIroVvOXM1TBuBzmn9eG7B5dByHUcJ9gi3UAypqOqkMW0smbtpqBN611wmIW+clWAZcVsN8/jwCe8HYogZQQ3EmydxBqTorsr5d23C8lQTznnz5Blmrv6SOOW6w90YJt3eBvokbpu2I6okaQieHyQqsLQKO6ftxIgcmj4eFdPOHTElJKsXSOAYVVCdid/WxvjkyyLHchGWs0U6HTzTPkJd4XknwV/SGjTp7Z8pg5XRerW+u48RhsE1X1TTp1bNO4IF6BMohN4UafEc3F8S5OaKpy521A7HGbTptaQdN4EZuVmxD9tVNNIdHuMu3zZBBnCI+oGhjkrQoIEdXpM+i6v2464u2KNIIZDBug3pkgyaSAZ91tut4MkpW7bI16JQ1n6RCnqvTi16wpOhN34dIRPi01qsLDP3ZlSNdmy9YlASSfDIZ30wOwoKztsjbvPVN5WmQVpIeDmKrJbmdMdVPu6xNnKUGAwBvUEr/9OOUh0JvWV9Lpq53lfCsvYFuwLo9zJe23uQUI2+7HkvJg3nsHARpRnWp4pOeN5RSzJoaLhRC+D0FaziY/Pvkr8vJcl0ozXch7B54PS08=
  - secure: SmdIxNsTStyl6Pblns+54VZNgnXRsvqD59dInI9J8NtQXlTMZ2EtoLAmy+c6l97Ykl+BlKzL/10va0wk0NRAhFpP6azqsWJynTOgimc7WNS2UU/DOLC/7WPRtpEPM59aaKrccsWR5aWHfP1PQ3T0C37PED9NiOzJLTkIdN+idlJYZzqr0Rr3Ne4rrjjn6P48EKKlwF9hIZGznPQ1DeMBNlFKVgomAEfCrM9wpg9CvpG4F1lx56qSC3L0Af6bpw8aj/90oAwD0FYi8kq3FwSoINYL0Y+KtwuKfB+DVp4Xrjklo9+XD//R4kCB+tR/QQH71giRlWdfd7ieazx+SnDZ2kvgBSQ35lJedGT0dYiFg7bDuFQCaAD/1tolB5n41MWIn4tg5OnhjKI21Wr2BDNK9gKuhsoQOglpWnAMXn9Wx70ffPJfcvqGAiBCaqEvBF0jdvVVOaurOHlLvRA4I/i0nQhGyF615DaCVVuTH7JGT2X3PFqx6BSpRq8gfsp57Ew4jpzI/xkBFA6HqV0r0nqX94NZLBLj8uhrTYvtpKBtqgWQKOefJgJXKdhELusLH0AV8hx9dXhzmBV3/1Le1VXwzY/K2I6aqLDOBA0LsO5d42/S0QcSPqsCuP3ypq0D67Islj+g/MPIgd23y9tOLV3bNLSXx7Qrrw9nAiLFORr07hM=
